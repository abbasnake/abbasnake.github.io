(function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function c(e){return u.p+"js/"+({container:"container",photos:"photos",project:"project"}[e]||e)+"."+{container:"1d2922be",photos:"d2cd347d",project:"a0b8aaa9"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={container:1,photos:1,project:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({container:"container",photos:"photos",project:"project"}[e]||e)+"."+{container:"c1168a4e",photos:"63ccbb80",project:"1b94d5e3"}[e]+".css",a=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===a))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],f=s.getAttribute("data-href");if(f===r||f===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],l.parentNode.removeChild(l),n(i)},l.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(l)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=i);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=c(e);var d=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}a[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:f})},12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="https://abbasnake.github.io/Osta/dist/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=f;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07a4":function(e,t,n){"use strict";(function(e){n("5df3"),n("ac6a"),n("456d"),n("96cf");var r=n("3b8d"),o=n("2b0e"),a=n("2f62"),i=n("3132"),c=n("c856"),u=n("2fa3"),s=n("c8da"),f=n("5d2d"),d=n("0032");o["a"].use(a["a"]);var l=new a["a"].Store({state:{isLoading:!1,project:{container:[],worksheet:{},photos:[],specefication:{}}},getters:{isLoading:function(e){return e.isLoading},project:function(e){return e.project},clientName:function(e){return Object(c["a"])(e.project.container)},container:function(e){return e.project.container}},mutations:{updateLoadingStatus:function(e,t){e.isLoading=t},updateContainer:function(e,t){e.project.container=t},updatePhotos:function(e,t){e.project.photos=t}},actions:{createNewContainer:function(e){var t=e.commit,n=i["a"].generateNewContainer();t("updateContainer",n)},updateContainer:function(e,t){var n=e.commit;n("updateContainer",t)},loadPhotos:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,f["a"].getPhotos();case 3:r=e.sent,n("updatePhotos",r);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),savePhotos:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=Object.keys(n).map(function(e){return s["a"].convertToBase64(n[e])}),e.next=4,Promise.all(o);case 4:return a=e.sent,e.next=7,f["a"].savePhotos(a);case 7:i=e.sent,r("updatePhotos",i);case 9:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),deletePhoto:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,f["a"].deletePhoto(n);case 3:o=e.sent,r("updatePhotos",o);case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),uploadToDropbox:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){var r,o,a,i,c,s,l,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n.state,r=n.commit,r("updateLoadingStatus",!0),o=f["a"].getPhotos(),!(o.length<1)){t.next=6;break}return r("updateLoadingStatus",!1),t.abrupt("return");case 6:a=new d["Dropbox"]({accessToken:f["a"].getDropboxToken(),fetch:fetch}),i=0;case 8:if(!(i<o.length)){t.next=19;break}return c="".concat(Object(u["c"])(),"_photo-").concat(i+1),s=o[i].photo.indexOf("base64,"),l=e.from(o[i].photo.slice(s+7),"base64"),p=new File([l],c),t.next=15,a.filesUpload({path:"/Osta/".concat(Object(u["b"])(),"/").concat(c,".png"),contents:p});case 15:t.sent;case 16:i++,t.next=8;break;case 19:r("updateLoadingStatus",!1);case 20:case"end":return t.stop()}},t)}));function n(e){return t.apply(this,arguments)}return n}()}});t["a"]=l}).call(this,n("b639").Buffer)},"2a7d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"Button",class:{"Button--red":e.red,"Button--disabled":e.disabled||e.isLoading},attrs:{disabled:e.disabled},on:{click:e.onClick}},[e.isLoading?n("span",[e._v("Lādējās...")]):e._t("default")],2)},o=[],a={name:"Button",props:{disabled:{type:Boolean,default:!1},red:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},methods:{onClick:function(){this.$emit("onClick")}}},i=a,c=(n("c9d2"),n("2877")),u=Object(c["a"])(i,r,o,!1,null,"462fe1a8",null);t["a"]=u.exports},"2bf7":function(e,t,n){"use strict";var r=n("455b"),o=n.n(r);o.a},"2fa3":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i});n("6b54");var r=function(){var e=new Date,t=e.toTimeString().substring(0,8),n=e.getFullYear(),r=e.getMonth(),o=e.getDate();return{year:n,month:r,day:o,timeString:t}},o=function(){return r().timeString},a=function(){var e=r(),t=e.year,n=e.month,o=e.day,a=e.timeString;return"".concat(a," - ").concat(o,"/").concat(n+1,"/").concat(t)},i=function(){var e=r(),t=e.year,n=e.month,o=e.day,a=["Janvaris","Februaris","Marts","Aprilis","Maijs","Junijs","Julijs","Augusts","Septembris","Oktobris","Novembris","Decembris"];return"".concat(t,"/").concat(a[n],"/").concat(o)},c=function(){return Math.random().toString().substring(2,10)}},3132:function(e,t,n){"use strict";var r=n("2fa3"),o=function(){var e=function(){return[{index:0,name:"datums",value:Object(r["d"])(),canEdit:!1},{index:1,name:"klients",value:"",canEdit:!0},{index:2,name:"konteinera nr.",value:"",canEdit:!0},{index:3,name:"plombes nr",value:"",canEdit:!0},{index:4,name:"konteinera tips",value:"",canEdit:!1,options:["","25","40","45"]}]};return{generateNewContainer:e}};t["a"]=o()},"455b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Header"},[e.viewName?r("h1",[e._v(e._s(e.viewName))]):r("img",{staticClass:"Header__logo",attrs:{src:n("f5fa"),alt:""}})])},c=[],u=(n("7f7f"),{name:"Header",computed:{viewName:function(){var e=this.$route,t=e.meta.viewName,n=e.name;return"start"!==n&&t}}}),s=u,f=(n("de02"),n("2877")),d=Object(f["a"])(s,i,c,!1,null,"3067d0b7",null),l=d.exports,p={name:"App",components:{Header:l}},h=p,m=(n("5c0b"),Object(f["a"])(h,o,a,!1,null,null,null)),v=m.exports,b=n("768b"),g=(n("28a5"),n("8c4f")),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"StartView"},[n("Button",{on:{onClick:e.startNewProject}},[e.isAuthenticated?n("span",[e._v("JAUNS")]):n("span",[e._v("AUTORIZĒTIES")])]),n("Button",{attrs:{disabled:""}},[e._v("TURPINĀT")])],1)},j=[],k=n("0032"),y=n("5d2d"),O=n("2a7d"),x={name:"StartView",components:{Button:O["a"]},data:function(){return{isAuthenticated:y["a"].getDropboxToken()}},methods:{startNewProject:function(){this.isAuthenticated?this.$router.push("project"):this.authenticate()},authenticate:function(){var e=new k["Dropbox"]({fetch:fetch,clientId:"ok3llbmvpa5susm"}),t=e.getAuthenticationUrl(window.location.origin);window.location.href=t}}},S=x,P=(n("2bf7"),Object(f["a"])(S,w,j,!1,null,"0e1d70d6",null)),_=P.exports;r["a"].use(g["a"]);var N=new g["a"]({routes:[{path:"/start",name:"start",meta:{viewName:"Sākums"},component:_},{path:"/project",name:"project",meta:{viewName:"Projekts"},component:function(){return n.e("project").then(n.bind(null,"07bd"))}},{path:"/photos",name:"photos",meta:{viewName:"Photos"},component:function(){return n.e("photos").then(n.bind(null,"fcb2"))}},{path:"/container",name:"container",meta:{viewName:"Konteinera akts"},component:function(){return n.e("container").then(n.bind(null,"4cf2"))}},{path:"*",redirect:"/start"}]});N.beforeEach(function(e,t,n){if(!y["a"].getDropboxToken()&&e.redirectedFrom){var r=e.redirectedFrom.slice(1).split("&"),o=r[0].split("="),a=Object(b["a"])(o,2),i=a[0],c=a[1];"access_token"===i&&y["a"].saveDropboxToken(c)}n()});var C=N,T=n("07a4"),E=T["a"],A=n("9483");Object(A["a"])("".concat("https://abbasnake.github.io/Osta/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["a"].config.productionTip=!1,new r["a"]({router:C,store:E,render:function(e){return e(v)}}).$mount("#app")},5830:function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("e332"),o=n.n(r);o.a},"5d2d":function(e,t,n){"use strict";n("0d6d");var r=n("75fc"),o=(n("96cf"),n("3b8d")),a=n("2fa3"),i=function(){var e="ostas_foto",t="",n=function(e){return JSON.stringify(e)},i=function(e){return JSON.parse(e)},c=function(){var t=localStorage.getItem(e);return t?i(t):[]},u=function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(o){var i,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=c(),u=o.map(function(e){return{photo:e,id:Object(a["a"])()}}),!i){t.next=5;break}return localStorage.setItem(e,n([].concat(Object(r["a"])(i),Object(r["a"])(u)))),t.abrupt("return",[].concat(Object(r["a"])(i),Object(r["a"])(u)));case 5:return localStorage.setItem(e,n(u)),t.abrupt("return",u);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),s=function(t){var r=c(),o=r.filter(function(e){return e.id!==t});return localStorage.setItem(e,n(o)),o},f=function(){return localStorage.getItem(t)},d=function(e){return localStorage.setItem(t,e)};return Object.freeze({getPhotos:c,savePhotos:u,deletePhoto:s,getDropboxToken:f,saveDropboxToken:d})};t["a"]=i()},"7cb6":function(e,t,n){},c856:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("7f7f"),n("7514");var r=function(e){var t=e.find(function(e){var t=e.name;return"klients"===t});return t?t.value:""}},c8da:function(e,t,n){"use strict";n("0d6d");var r=function(){var e=function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise(function(e,n){t.onloadend=function(t){e(t.target.result)}})};return Object.freeze({convertToBase64:e})};t["a"]=r()},c9d2:function(e,t,n){"use strict";var r=n("5830"),o=n.n(r);o.a},de02:function(e,t,n){"use strict";var r=n("7cb6"),o=n.n(r);o.a},e332:function(e,t,n){},f5fa:function(e,t,n){e.exports=n.p+"img/jaunzeltini-logo-62s.240d28f4.png"}});
//# sourceMappingURL=app.8ca75b20.js.map