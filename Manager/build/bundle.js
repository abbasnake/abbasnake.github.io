var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function i(t){let e;return c(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(c(e,n))}function a(t){return null==t?"":t}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),I=d?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&I(g)}function A(t,e){t.appendChild(e)}function S(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function $(){return h(" ")}function E(){return h("")}function R(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function O(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function N(t,e){t.value=null==e?"":e}function v(t,e,n){t.classList[n?"add":"remove"](e)}function M(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const L=new Set;let T,_=0;function G(t,e,n,r,s,o,l,c=0){const i=16.666/r;let u="{\n";for(let t=0;t<=1;t+=i){const r=e+(n-e)*o(t);u+=100*t+`%{${l(r,1-r)}}\n`}const a=u+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,f=t.ownerDocument;L.add(f);const I=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(m("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,I.insertRule(`@keyframes ${d} ${a}`,I.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${r}ms linear ${s}ms 1 both`,_+=1,d}function U(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-r.length;s&&(t.style.animation=r.join(", "),_-=s,_||I((()=>{_||(L.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),L.clear())})))}function D(t){T=t}function K(){const t=function(){if(!T)throw new Error("Function called outside component initialization");return T}();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=M(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}const w=[],j=[],V=[],x=[],C=Promise.resolve();let k=!1;function J(t){V.push(t)}let P=!1;const Z=new Set;function B(){if(!P){P=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];D(e),F(e.$$)}for(D(null),w.length=0;j.length;)j.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];Z.has(e)||(Z.add(e),e())}V.length=0}while(w.length);for(;x.length;)x.pop()();k=!1,P=!1,Z.clear()}}function F(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let z;function q(t,e,n){t.dispatchEvent(M(`${e?"intro":"outro"}${n}`))}const H=new Set;let X;function Q(){X={r:0,c:[],p:X}}function W(){X.r||s(X.c),X=X.p}function Y(t,e){t&&t.i&&(H.delete(t),t.i(e))}function tt(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),X.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const et={duration:0};function nt(n,r,l,c){let i=r(n,l),u=c?0:1,a=null,d=null,A=null;function S(){A&&U(n,A)}function b(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(r){const{delay:o=0,duration:l=300,easing:c=e,tick:m=t,css:h}=i||et,$={start:f()+o,b:r};r||($.group=X,X.r+=1),a||d?d=$:(h&&(S(),A=G(n,u,r,l,o,c,h)),r&&m(0,1),a=b($,l),J((()=>q(n,r,"start"))),function(t){let e;0===p.size&&I(g),new Promise((n=>{p.add(e={c:t,f:n})}))}((t=>{if(d&&t>d.start&&(a=b(d,l),d=null,q(n,a.b,"start"),h&&(S(),A=G(n,u,a.b,a.duration,0,c,i.css))),a)if(t>=a.end)m(u=a.b,1-u),q(n,a.b,"end"),d||(a.b?S():--a.group.r||s(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;u=a.a+a.d*c(e/a.duration),m(u,1-u)}return!(!a&&!d)})))}return{run(t){o(i)?(z||(z=Promise.resolve(),z.then((()=>{z=null}))),z).then((()=>{i=i(),m(t)})):m(t)},end(){S(),a=d=null}}}function rt(t,e){tt(t,1,1,(()=>{e.delete(t.key)}))}function st(t,e,n,r,s,o,l,c,i,u,a,d){let f=t.length,I=o.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const A=[],S=new Map,b=new Map;for(p=I;p--;){const t=d(s,o,p),c=n(t);let i=l.get(c);i?r&&i.p(t,e):(i=u(c,t),i.c()),S.set(c,A[p]=i),c in g&&b.set(c,Math.abs(p-g[c]))}const m=new Set,h=new Set;function $(t){Y(t,1),t.m(c,a),l.set(t.key,t),a=t.first,I--}for(;f&&I;){const e=A[I-1],n=t[f-1],r=e.key,s=n.key;e===n?(a=e.first,f--,I--):S.has(s)?!l.has(r)||m.has(r)?$(e):h.has(s)?f--:b.get(r)>b.get(s)?(h.add(r),$(e)):(m.add(s),f--):(i(n,l),f--)}for(;f--;){const e=t[f];S.has(e.key)||i(e,l)}for(;I;)$(A[I-1]);return A}function ot(t){t&&t.c()}function lt(t,e,r){const{fragment:l,on_mount:c,on_destroy:i,after_update:u}=t.$$;l&&l.m(e,r),J((()=>{const e=c.map(n).filter(o);i?i.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(J)}function ct(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(w.push(t),k||(k=!0,C.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,o,l,c,i,u=[-1]){const a=T;D(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let I=!1;if(f.ctx=o?o(e,d,((t,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&c(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),I&&it(e,t)),n})):[],f.update(),I=!0,s(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&Y(e.$$.fragment),lt(e,n.target,n.anchor),B()}D(a)}class at{$destroy(){ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(t,{delay:n=0,duration:r=400,easing:s=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:s,css:t=>"opacity: "+t*o}}const ft=[];function It(e,n=t){let r;const s=[];function o(t){if(l(e,t)&&(e=t,r)){const t=!ft.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),ft.push(n,e)}if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,c=t){const i=[l,c];return s.push(i),1===s.length&&(r=n(o)||t),l(e),()=>{const t=s.indexOf(i);-1!==t&&s.splice(t,1),0===s.length&&(r(),r=null)}}}}function pt(e,n,r){const l=!Array.isArray(e),i=l?[e]:e,u=n.length<2;return{subscribe:It(r,(e=>{let r=!1;const a=[];let d=0,f=t;const I=()=>{if(d)return;f();const r=n(l?a[0]:a,e);u?e(r):f=o(r)?r:t},p=i.map(((t,e)=>c(t,(t=>{a[e]=t,d&=~(1<<e),r&&I()}),(()=>{d|=1<<e}))));return r=!0,I(),function(){s(p),f()}})).subscribe}}var gt={generateId:()=>Math.random().toString(36).substr(2,9),isDuplicate:(t,e)=>(Array.isArray(t)?t:Object.values(t)).some((t=>t.label===e)),pipe:(...t)=>e=>t.reduce(((t,e)=>e(t)),e)};var At=(()=>{const t=(t,e=gt.generateId())=>({id:e,label:t});return{_createNewGroup:t,addGroup:(e,n,r=gt.generateId())=>gt.isDuplicate(e,n)?e:[...e,t(n,r)],deleteGroup:(t,e)=>t.filter((t=>t.id!==e))}})();const St={id:"Venues-"+gt.generateId(),label:"Venues",items:["LZ","JZ","MZ"]},bt={id:"Plays-"+gt.generateId(),label:"Plays",items:["AKA","AK, TETĪT...","ALISE BRĪNUMZEMĒ","ANTIGONE","APSOLU","APSPĒLĒTS","ARĪ VAĻIEM IR BAIL","ART","ASINS KĀZAS","BILLE","CĪRULĪŠI","DŪJA","DZIĻĀ, SKUMJĀ JŪRA","DZĪVNIEKS","EZERIŅŠ","FINLANDIZĀCIJA","SUDRABA SLIDAS","INDRĀNI","ĪSTAIS TEĀTRIS VIRTUVES KONCERTS","JAUNĀ ĀRSTA PIEZĪMES","JUVELIERA JUBILEJA","KAIJA","KATLS","LATVIEŠI","LEPNUMS UN AIZSPRIEDUMI","MAN 30 GADU","MAZAIS GANIŅŠ","MEŽAINIS","MĪLA ZEM GOBĀM","MOLLIJA SAKA JĀ!","OLIVERS","PAR TĒVIEM","PĒDĒJAIS SALMIŅŠ","PIEAUGUŠIE","PRECĒŠANĀS UN ŠĶIRŠANĀS ANATOMIJA","PUIKA, KURŠ REDZĒJA TUMSĀ","PUTENĪ","PŪT, VĒJIŅI!","REVIDENTS","SALOME","SAPNIS VASARAS NAKTĪ","SAVĀDAIS ATGADĪJUMS AR SUNI NAKTĪ","SKRODERDIENAS SILMAČOS","SLAKTIŅA DIEVS","SVINA GARŠA","TAS PASAULES GALS","TIK MĪLA VIENS","TIKŠANĀS VIETA","TRĪS VĪRI KŪRORTĀ","TUKŠAIS ZIEDS","TUVĀ PILSĒTA","VECENE","ZEM DIVIEM KAROGIEM","ZILĀ","ŽILBINOŠI!"]},mt={id:"Actors-"+gt.generateId(),label:"Actors",items:["AINĀRS ANČEVSKIS","KASPARS ANIŅŠ","ULDIS ANŽE","JĀNIS ĀMANIS","ROMĀNS BARGAIS","MARIJA BĒRZIŅA","DACE BONĀTE","MAARA BORE","MADARA BOTMANE","MĀRTIŅŠ BRŪVERIS","INDRA BURKOVSKA","RAIMONDS CELMS","ILVA CENTERE","AGNESE CĪRULE","MAIJA DOVEIKA","ULDIS DUMPIS","MĀRTIŅŠ EGLIENS","DAIGA GAISMIŅA","GUNDARS GRASBERGS","JURIS HIRŠS","ĢIRTS JAKOVĻEVS","ZANE JANČEVSKA","ASTRĪDA KAIRIŠA","DAIGA KAŽOCIŅA","ANNA KLĒVERE","IVARS KĻAVINSKIS","EVIJA KRŪZE","ARTŪRS KRŪZKOPS","LĀSMA KUGRĒNA","NORMUNDS LAIZĀNS","JURIS LISNERS","DITA LŪRIŅA","MĀRCIS MAŅJAKOVS","EGILS MELBĀRDIS","INGA MISĀNE GRASBERGA","SANITA PAULA","KĀRLIS REIJERS","JĒKABS REINIS","LIENE SEBRE","LAURA SILIŅA","ULDIS SILIŅŠ","JĀNIS SKANIS","JURĪS SPULENIEKS","IGORS ŠELEGOVSKIS","VOLDEMĀRS ŠORIŅŠ","LĪGA ZEĻĢE","KASPARS ZVĪGULIS"]},ht=[St,bt,mt].map((({id:t,label:e})=>({id:t,label:e}))),$t=[St,bt,mt].reduce(((t,e)=>Object.assign(Object.assign({},t),e.items.reduce(((t,n)=>Object.assign(Object.assign({},t),{[`${e.label}-${gt.generateId()}`]:{groupId:e.id,label:n,childIds:[],isSelected:!1}})),{}))),{}),{subscribe:Et,update:Rt,set:Ot}=It(ht),yt={subscribe:Et,addGroup:t=>Rt((e=>At.addGroup(e,t))),deleteGroup:t=>Rt((e=>At.deleteGroup(e,t))),set:Ot};var Nt=(()=>{const t=(e,n)=>{const r=[...e[n].childIds];return r.reduce(((n,r)=>[...n,...t(e,r)]),r)},e=(t,n)=>Object.entries(t).reduce(((r,[s,o])=>o.childIds.includes(n)?[...r,s,...e(t,s)]:r),[]),n=(t,e,n=gt.generateId())=>({[n]:{groupId:t,label:e,childIds:[],isSelected:!1}});return{_createItem:n,_getAncestors:e,_getDecendants:t,getRelationsMap:n=>Object.keys(n).reduce(((r,s)=>{const o=t(n,s),l=e(n,s);return Object.assign(Object.assign({},r),{[s]:{parents:l,children:o}})}),{}),getSelectedItemId:t=>Object.keys(t).find((e=>t[e].isSelected))||null,toggleItem:(t,e)=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),{isSelected:!t[e].isSelected})}),deleteItem:(t,e)=>Object.entries(t).reduce(((t,[n,r])=>n===e?t:Object.assign(Object.assign({},t),{[n]:Object.assign(Object.assign({},r),{childIds:r.childIds.filter((t=>t!==e))})})),{}),removeGrouplessItems:(t,e)=>Object.entries(t).reduce(((t,[n,r])=>{if(!e.includes(r.groupId)){const e=t,r=n;e[r];
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
return function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}(e,["symbol"==typeof r?r:r+""])}return t}),t),toggleChild:(t,e,n)=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),{childIds:t[e].childIds.includes(n)?t[e].childIds.filter((t=>t!==n)):[...t[e].childIds,n]})}),addItem:(t,e,r,s=gt.generateId())=>gt.isDuplicate(t,r)?t:Object.assign(Object.assign({},t),n(e,r,s))}})();const{subscribe:vt,update:Mt,set:Lt}=It($t),Tt=pt({subscribe:vt},(t=>Nt.getRelationsMap(t))),_t=pt({subscribe:vt},(t=>Nt.getSelectedItemId(t))),Gt={subscribe:vt,toggleItem:t=>Mt((e=>Nt.toggleItem(e,t))),addItem:(t,e)=>Mt((n=>Nt.addItem(n,t,e))),deleteItemFromGroup:t=>Mt((e=>Nt.deleteItem(e,t))),removeGrouplessItems:t=>Mt((e=>Nt.removeGrouplessItems(e,t))),toggleChild:(t,e)=>Mt((n=>Nt.toggleChild(n,t,e))),set:Lt};var Ut;!function(t){t.INFO="info",t.ERROR="error",t.SUCESS="success"}(Ut||(Ut={}));var Dt=(()=>{const t=(t,e,n=gt.generateId())=>({id:n,text:t,type:e});return{_createNotification:t,add:(e,n,r,s=gt.generateId())=>[t(n,r,s),...e],close:(t,e)=>t.filter((t=>t.id!==e))}})();const{subscribe:Kt,update:wt}=It([]),jt=t=>wt((e=>Dt.close(e,t))),Vt={subscribe:Kt,add:(t,e=Ut.INFO)=>{const n=gt.generateId();wt((r=>Dt.add(r,t,e,n))),setTimeout((()=>jt(n)),6e3)},close:jt,NOTIFICATION_TIMEOUT:6e3};var xt={setItem:(t,e)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(t){return!1}},getItem:t=>{try{return JSON.parse(localStorage.getItem(t))}catch(t){return null}}};const Ct=(()=>{const t="manager-setup";return{saveSetup:(e=i(yt),n=i(Gt),r=t)=>{const s=xt.setItem({groups:e,itemMap:n},r),o=s?"Setup saved":"Could not save setup",l=s?Ut.SUCESS:Ut.ERROR;Vt.add(o,l)},loadSetup:(e=t)=>{const n=xt.getItem(e);n?(yt.set(n.groups),Gt.set(n.itemMap),Vt.add("Setup loaded",Ut.SUCESS)):Vt.add("Could not load setup",Ut.ERROR)}}})();var kt=(()=>{const t=t=>t.sort(((t,e)=>t[1].label.localeCompare(e[1].label))),e=(t,e)=>t.reduce(((t,[n,r])=>r.groupId===e?[...t,n]:t),[]);return{_sortItemsAlphabetically:t,_getGroupItemIds:e,sortItemsByGroup:(n,r)=>n.map((n=>{const s=gt.pipe(Object.entries,t,(t=>e(t,n.id)))(r);return Object.assign(Object.assign({},n),{items:s})}))}})();const Jt=pt([yt,Gt],(([t,e])=>kt.sortItemsByGroup(t,e)));function Pt(t){let e,n,r,s,o,l,c,i,u=t[1].label+"",a=t[2]&&Zt(t);return{c(){e=m("div"),n=m("button"),r=h(u),s=$(),a&&a.c(),O(n,"class","label svelte-blivcr"),v(n,"label--selected",t[2]),v(n,"label--child",t[3]),v(n,"label--parent",t[4]),O(e,"class","Item svelte-blivcr")},m(o,u){S(o,e,u),A(e,n),A(n,r),A(e,s),a&&a.m(e,null),l=!0,c||(i=R(n,"click",t[5]),c=!0)},p(t,s){(!l||2&s)&&u!==(u=t[1].label+"")&&y(r,u),4&s&&v(n,"label--selected",t[2]),8&s&&v(n,"label--child",t[3]),16&s&&v(n,"label--parent",t[4]),t[2]?a?a.p(t,s):(a=Zt(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(t){l||(J((()=>{o||(o=nt(e,dt,{duration:1e3},!0)),o.run(1)})),l=!0)},o(t){o||(o=nt(e,dt,{duration:1e3},!1)),o.run(0),l=!1},d(t){t&&b(e),a&&a.d(),t&&o&&o.end(),c=!1,i()}}}function Zt(e){let n,r,s;return{c(){n=m("button"),n.textContent="X",O(n,"class","delete svelte-blivcr")},m(t,o){S(t,n,o),r||(s=R(n,"click",e[7]),r=!0)},p:t,d(t){t&&b(n),r=!1,s()}}}function Bt(t){let e,n,r=t[1]&&Pt(t);return{c(){r&&r.c(),e=E()},m(t,s){r&&r.m(t,s),S(t,e,s),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&Y(r,1)):(r=Pt(t),r.c(),Y(r,1),r.m(e.parentNode,e)):r&&(Q(),tt(r,1,1,(()=>{r=null})),W())},i(t){n||(Y(r),n=!0)},o(t){tt(r),n=!1},d(t){r&&r.d(t),t&&b(e)}}}function Ft(t,e,n){let r,s,o,l;var c,i;u(t,Gt,(t=>n(10,r=t))),u(t,_t,(t=>n(12,s=t))),u(t,Tt,(t=>n(13,o=t))),u(t,yt,(t=>n(14,l=t)));let{groupId:a}=e,{itemId:d}=e;let f,I,p,g,A;return t.$$set=t=>{"groupId"in t&&n(6,a=t.groupId),"itemId"in t&&n(0,d=t.itemId)},t.$$.update=()=>{1025&t.$$.dirty&&n(1,f=r[d]),4096&t.$$.dirty&&(I=!!s),4097&t.$$.dirty&&n(2,p=s===d),12545&t.$$.dirty&&n(3,g=(null===n(8,c=o[s])||void 0===c?void 0:c.children.includes(d))||!1),12801&t.$$.dirty&&n(4,A=(null===n(9,i=o[s])||void 0===i?void 0:i.parents.includes(d))||!1)},[d,f,p,g,A,()=>{if(!I||p)return void Gt.toggleItem(d);const t=l.reduce(((t,e,n)=>Object.assign(Object.assign({},t),{[e.id]:n})),{});t[r[s].groupId]+1===t[a]&&Gt.toggleChild(s,d)},a,()=>Gt.deleteItemFromGroup(d)]}yt.subscribe((t=>Gt.removeGrouplessItems(t.map((({id:t})=>t)))));class zt extends at{constructor(t){super(),ut(this,t,Ft,Bt,l,{groupId:6,itemId:0})}}var qt=(()=>{const t=()=>{const t=new Date;return`${t.toTimeString().substring(0,8)}:${t.getMilliseconds()}`};return{table:(e,n,r="lightgrey")=>{const s="background-color: "+r;console.groupCollapsed(`${t()} %c %c ${e} `,s,"background-color: white"),console.table(n),console.groupEnd()},error:(e,n)=>{console.error(`${t()} ${e} ${n}`)}}})();function Ht(t,e,n){let r,s,o,l;return u(t,Gt,(t=>n(0,r=t))),u(t,Jt,(t=>n(1,s=t))),u(t,Tt,(t=>n(2,o=t))),u(t,yt,(t=>n(3,l=t))),t.$$.update=()=>{15&t.$$.dirty&&console.log("------------"),1&t.$$.dirty&&qt.table("ItemMap",r,"red"),2&t.$$.dirty&&qt.table("ItemsByGroup",s,"green"),4&t.$$.dirty&&qt.table("Relations",o,"blue"),8&t.$$.dirty&&qt.table("Groups",l)},[]}class Xt extends at{constructor(t){super(),ut(this,t,Ht,null,l,{})}}function Qt(e){let n,r,o,l,c,i;return{c(){n=m("div"),r=m("input"),o=$(),l=m("button"),l.textContent="Add",O(r,"class","field svelte-14gl2l7"),O(r,"type","text"),O(r,"placeholder",e[0]),O(l,"class","button svelte-14gl2l7"),O(n,"class","Input svelte-14gl2l7")},m(t,s){S(t,n,s),A(n,r),N(r,e[1]),A(n,o),A(n,l),c||(i=[R(r,"input",e[3]),R(l,"click",e[2])],c=!0)},p(t,[e]){1&e&&O(r,"placeholder",t[0]),2&e&&r.value!==t[1]&&N(r,t[1])},i:t,o:t,d(t){t&&b(n),c=!1,s(i)}}}function Wt(t,e,n){let{placeholder:r=""}=e;const s=K();let o="";return t.$$set=t=>{"placeholder"in t&&n(0,r=t.placeholder)},[r,o,()=>{""!==o&&" "!==o&&(s("add",o),n(1,o=""))},function(){o=this.value,n(1,o)}]}class Yt extends at{constructor(t){super(),ut(this,t,Wt,Qt,l,{placeholder:0})}}function te(e){let n,r,o,l,c,i;return{c(){n=m("div"),r=m("button"),r.textContent="SAVE",o=$(),l=m("button"),l.textContent="LOAD",O(r,"class","button svelte-1bc5tnp"),O(l,"class","button svelte-1bc5tnp"),O(n,"class","Storage svelte-1bc5tnp")},m(t,s){S(t,n,s),A(n,r),A(n,o),A(n,l),c||(i=[R(r,"click",e[0]),R(l,"click",e[1])],c=!0)},p:t,i:t,o:t,d(t){t&&b(n),c=!1,s(i)}}}function ee(t){return[()=>Ct.saveSetup(),()=>Ct.loadSetup()]}class ne extends at{constructor(t){super(),ut(this,t,ee,te,l,{})}}function re(t,e,n){const r=t.slice();return r[2]=e[n].id,r[3]=e[n].text,r[4]=e[n].type,r}function se(t,e){let n,r,s,o,l,c,i,u,d,f,I,p=e[3]+"";function g(...t){return e[1](e[2],...t)}return{key:t,first:null,c(){n=m("div"),r=m("p"),s=h(p),o=$(),l=m("button"),l.textContent="X",c=$(),O(l,"class","button svelte-1bt9pw5"),O(n,"class",i=a("notification notification--"+e[4])+" svelte-1bt9pw5"),this.first=n},m(t,e){S(t,n,e),A(n,r),A(r,s),A(n,o),A(n,l),A(n,c),d=!0,f||(I=R(l,"click",g),f=!0)},p(t,r){e=t,(!d||1&r)&&p!==(p=e[3]+"")&&y(s,p),(!d||1&r&&i!==(i=a("notification notification--"+e[4])+" svelte-1bt9pw5"))&&O(n,"class",i)},i(t){d||(J((()=>{u||(u=nt(n,dt,{},!0)),u.run(1)})),d=!0)},o(t){u||(u=nt(n,dt,{},!1)),u.run(0),d=!1},d(t){t&&b(n),t&&u&&u.end(),f=!1,I()}}}function oe(t){let e,n,r=[],s=new Map,o=t[0];const l=t=>t[2];for(let e=0;e<o.length;e+=1){let n=re(t,o,e),c=l(n);s.set(c,r[e]=se(c,n))}return{c(){e=m("div");for(let t=0;t<r.length;t+=1)r[t].c();O(e,"class","Notifications svelte-1bt9pw5")},m(t,s){S(t,e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(1&n){const o=t[0];Q(),r=st(r,n,l,1,t,o,s,e,rt,se,null,re),W()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)Y(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)tt(r[t]);n=!1},d(t){t&&b(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function le(t,e,n){let r;u(t,Vt,(t=>n(0,r=t)));return[r,t=>Vt.close(t)]}class ce extends at{constructor(t){super(),ut(this,t,le,oe,l,{})}}function ie(t,e,n){const r=t.slice();return r[5]=e[n],r}function ue(t,e,n){const r=t.slice();return r[2]=e[n],r}function ae(t,e){let n,r,s;return r=new zt({props:{itemId:e[5],groupId:e[2].id}}),{key:t,first:null,c(){n=E(),ot(r.$$.fragment),this.first=n},m(t,e){S(t,n,e),lt(r,t,e),s=!0},p(t,e){const n={};1&e&&(n.itemId=t[5]),1&e&&(n.groupId=t[2].id),r.$set(n)},i(t){s||(Y(r.$$.fragment,t),s=!0)},o(t){tt(r.$$.fragment,t),s=!1},d(t){t&&b(n),ct(r,t)}}}function de(t,e){let n,r,s,o,l,c,i,u,a=e[2].label+"",d=[],f=new Map;o=new Yt({}),o.$on("add",(function(...t){return e[1](e[2],...t)}));let I=e[2].items;const p=t=>t[5];for(let t=0;t<I.length;t+=1){let n=ie(e,I,t),r=p(n);f.set(r,d[t]=ae(r,n))}return{key:t,first:null,c(){n=m("h2"),r=h(a),s=$(),ot(o.$$.fragment),l=$(),c=m("div");for(let t=0;t<d.length;t+=1)d[t].c();i=$(),O(n,"class","groupHeader svelte-1t87x2k"),O(c,"class","items svelte-1t87x2k"),this.first=n},m(t,e){S(t,n,e),A(n,r),S(t,s,e),lt(o,t,e),S(t,l,e),S(t,c,e);for(let t=0;t<d.length;t+=1)d[t].m(c,null);A(c,i),u=!0},p(t,n){if(e=t,(!u||1&n)&&a!==(a=e[2].label+"")&&y(r,a),1&n){const t=e[2].items;Q(),d=st(d,n,p,1,e,t,f,c,rt,ae,i,ie),W()}},i(t){if(!u){Y(o.$$.fragment,t);for(let t=0;t<I.length;t+=1)Y(d[t]);u=!0}},o(t){tt(o.$$.fragment,t);for(let t=0;t<d.length;t+=1)tt(d[t]);u=!1},d(t){t&&b(n),t&&b(s),ct(o,t),t&&b(l),t&&b(c);for(let t=0;t<d.length;t+=1)d[t].d()}}}function fe(t){let e,n,r,s,o,l,c,i,u,a,d=[],f=new Map;e=new Xt({}),s=new ne({});let I=t[0];const p=t=>t[2].id;for(let e=0;e<I.length;e+=1){let n=ue(t,I,e),r=p(n);f.set(r,d[e]=de(r,n))}return u=new ce({}),{c(){ot(e.$$.fragment),n=$(),r=m("main"),ot(s.$$.fragment),o=$(),l=m("h1"),l.textContent="MANAGER",c=$();for(let t=0;t<d.length;t+=1)d[t].c();i=$(),ot(u.$$.fragment),O(r,"class","Main svelte-1t87x2k")},m(t,f){lt(e,t,f),S(t,n,f),S(t,r,f),lt(s,r,null),A(r,o),A(r,l),A(r,c);for(let t=0;t<d.length;t+=1)d[t].m(r,null);S(t,i,f),lt(u,t,f),a=!0},p(t,[e]){if(1&e){const n=t[0];Q(),d=st(d,e,p,1,t,n,f,r,rt,de,null,ue),W()}},i(t){if(!a){Y(e.$$.fragment,t),Y(s.$$.fragment,t);for(let t=0;t<I.length;t+=1)Y(d[t]);Y(u.$$.fragment,t),a=!0}},o(t){tt(e.$$.fragment,t),tt(s.$$.fragment,t);for(let t=0;t<d.length;t+=1)tt(d[t]);tt(u.$$.fragment,t),a=!1},d(t){ct(e,t),t&&b(n),t&&b(r),ct(s);for(let t=0;t<d.length;t+=1)d[t].d();t&&b(i),ct(u,t)}}}function Ie(t,e,n){let r;u(t,Jt,(t=>n(0,r=t)));return[r,(t,{detail:e})=>Gt.addItem(t.id,e)]}return new class extends at{constructor(t){super(),ut(this,t,Ie,fe,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
