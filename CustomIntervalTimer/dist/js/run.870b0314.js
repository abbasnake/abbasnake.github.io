(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["run"],{"05ed":function(t,e,n){},"0904":function(t,e,n){},"0a0d":function(t,e,n){t.exports=n("e829")},"12c2":function(t,e,n){t.exports=n.p+"media/beep.9a1c4d24.mp3"},2824:function(t,e,n){},"2f37":function(t,e,n){var r=n("63b6");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},4104:function(t,e,n){t.exports=n.p+"media/whistle.754038c1.mp3"},6494:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",style:{backgroundColor:t.currentBlockColor}},[n("div",[t._v("SETS: "+t._s(t.currentSetNumber)+"/"+t._s(t.totalSetCount))]),n("div",{staticClass:"container__timer"},[t._l(t.stringifyTimer(t.currentTimer),function(e,r){return[n("span",{key:r,staticClass:"container__timer__char"},[t._v("\n        "+t._s(e)+"\n      ")])]})],2),n("div",[t._v(t._s(t.currentBlockRepetitionsLeft)+"x")]),n("AppBlockProgressBar",{attrs:{currentTimerIndex:t.currentTimerIndex+1,totalTimerCount:t.totalSequence[t.currentBlockIndex].timers.length}}),n("AppButtonReset",{directives:[{name:"show",rawName:"v-show",value:!t.timerIsRunning,expression:"!timerIsRunning"}],staticClass:"container__reset",on:{onClick:t.goToSetupScreen}}),n("AppButtonPause",{directives:[{name:"show",rawName:"v-show",value:t.timerIsRunning,expression:"timerIsRunning"}],staticClass:"container__playPause",on:{onClick:t.stopLoop}}),n("AppButtonPlay",{directives:[{name:"show",rawName:"v-show",value:!t.timerIsRunning,expression:"!timerIsRunning"}],staticClass:"container__playPause",on:{onClick:t.runLoop}})],1)},i=[],s=n("0a0d"),o=n.n(s),c=(n("cadf"),n("551c"),n("097d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ProgressBar"},[t._l(t.totalTimerCount,function(e){return[n("span",{key:e,staticClass:"ProgressBar__circle",style:t.renderBackground(e)})]})],2)}),u=[],a=(n("c5f6"),{name:"AppBlockProgressBar",props:{currentTimerIndex:{type:Number,required:!0},totalTimerCount:{type:Number,required:!0}},methods:{renderBackground:function(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{"background-color":t,opacity:e}};return t<this.currentTimerIndex?e("black"):t===this.currentTimerIndex?e("black",.4):{}}}}),l=a,m=(n("b15d"),n("2877")),h=Object(m["a"])(l,c,u,!1,null,"d2899b50",null);h.options.__file="AppBlockProgressBar.vue";var p=h.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70.9 70.9"},on:{click:t.pauseTimer}},[n("path",{attrs:{d:"M0,70.9c23.6,0,47.2,0,70.9,0c0-23.6,0-47.2,0-70.9C31.7,0,0,31.7,0,70.9z M40.6,58.3H30V24.5h10.5V58.3z\n    M58.1,58.3H47.6V24.5h10.5V58.3z"}})])},f=[],T={name:"AppButtonPause",methods:{pauseTimer:function(){this.$emit("onClick")}}},B=T,v=(n("c1fb"),Object(m["a"])(B,d,f,!1,null,"e1c7ba26",null));v.options.__file="AppButtonPause.vue";var x=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70.9 70.9"},on:{click:t.playTimer}},[n("path",{attrs:{d:"M0,70.9c23.6,0,47.2,0,70.9,0c0-23.6,0-47.2,0-70.9C31.7,0,0,31.7,0,70.9z M30,62.5V23.7l32.6,18.5L30,62.5z"}})])},k=[],g={name:"AppButtonPlay",methods:{playTimer:function(){this.$emit("onClick")}}},_=g,C=(n("f41d"),Object(m["a"])(_,b,k,!1,null,"0e1c9ad9",null));C.options.__file="AppButtonPlay.vue";var w=C.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"button",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70.9 70.9"},on:{click:t.resetTimer}},[n("path",{attrs:{d:"M0,0c0,23.6,0,47.2,0,70.9c23.6,0,47.2,0,70.9,0C70.9,31.7,39.1,0,0,0z M21.4,36.1c-4.5,4.3-4.3,11,0.4,15.1\n    c3.9,3.4,11.6,3.7,15.7-3.5c2.4,1.2,4.8,2.3,7.2,3.5c-4,8.8-14.7,13.1-24,8.8c-9.7-4.4-13.6-16-8.6-25.1c2.5-4.6,6.2-7.7,11.3-9\n    c6.7-1.7,12.7-0.1,18,4.8c1.4-1.5,2.8-2.9,4.2-4.3c0.7,5.6,1.5,11.2,2.2,17c-5.7-0.9-11.2-1.8-16.9-2.7c1.6-1.5,3-2.8,4.4-4.2\n    C32.3,32.9,25.7,31.9,21.4,36.1z"}})])},I=[],R={name:"AppButtonReset",methods:{resetTimer:function(){this.$emit("onClick")}}},y=R,A=(n("cb3c"),Object(m["a"])(y,S,I,!1,null,"23ae3bf4",null));A.options.__file="AppButtonReset.vue";var q=A.exports,L=n("2fa3"),N={name:"Run",data:function(){return{audioWhistle:new Audio(n("4104")),audioEndWhistle:new Audio(n("b7bb")),audioBeep:new Audio(n("12c2")),totalSequence:null,currentBlockIndex:0,currentTimerIndex:0,currentBlockRepetitionsLeft:null,timerIsRunning:!1,currentTimer:null,currentSetNumber:1,timeout:null}},components:{AppBlockProgressBar:p,AppButtonPause:x,AppButtonPlay:w,AppButtonReset:q},computed:{currentBlockColor:function(){return Object(L["h"])(this.totalSequence[this.currentBlockIndex].colorIndex)},totalSetCount:function(){return this.$store.getters.sets}},created:function(){this.setupTimer()},mounted:function(){this.runLoop()},methods:{runLoop:function(){var t=this;Object(L["e"])(),this.timerIsRunning=!0;var e=1e3,n=o()()+e,r=function r(){var i=o()()-n;t.timerIsRunning&&(n+=e,t.timeout=L["n"].setTimeout(r,Math.max(0,e-i)),t.decrementCurrentTimer())};this.timeout=L["n"].setTimeout(r,e)},stopLoop:function(){Object(L["d"])(),L["n"].clearTimeout(this.timeout),this.timerIsRunning=!1},goToSetupScreen:function(){this.$router.go(-1)},setupTimer:function(){this.currentBlockIndex=0,this.currentTimerIndex=0,this.totalSequence=Object(L["g"])(this.$store.getters.timerBlocks),this.currentTimer=Object(L["b"])(this.totalSequence[this.currentBlockIndex].timers[this.currentTimerIndex]),this.currentBlockRepetitionsLeft=this.totalSequence[this.currentBlockIndex].repetitions,this.currentSetNumber=1},decrementCurrentTimer:function(){this.updateCurrentTimer(Object(L["c"])(this.currentTimer))},updateCurrentTimer:function(t){Object(L["l"])(t)?this.switchToNextTimer():(this.timerShouldBeep(t)&&this.audioBeep.play(),this.currentTimer=t)},switchToNextTimer:function(){this.currentTimerIndex++,this.currentTimer=this.getCurrentTimerFromSequnece(),void 0===this.currentTimer?this.areMoreRepetitionsLeft()?this.startNextCurrentBlockRepetition():this.isLastTimerBlock()?this.isLastSet()?this.finishAndResetSequence():this.startNextSet():this.moveToNextBlock():this.audioWhistle.play()},startNextSet:function(){this.audioWhistle.play(),this.currentSetNumber++,this.currentBlockIndex=0,this.currentTimerIndex=0,this.currentTimer=this.getCurrentTimerFromSequnece(),this.currentBlockRepetitionsLeft=this.totalSequence[this.currentBlockIndex].repetitions},timerShouldBeep:function(t){return 0===t.m&&t.s<4},areMoreRepetitionsLeft:function(){return this.currentBlockRepetitionsLeft>1},isLastSet:function(){return this.currentSetNumber===this.totalSetCount},startNextCurrentBlockRepetition:function(){this.audioWhistle.play(),this.currentBlockRepetitionsLeft--,this.currentTimerIndex=0,this.currentTimer=this.getCurrentTimerFromSequnece()},moveToNextBlock:function(){this.audioWhistle.play(),this.currentBlockIndex++,this.currentTimerIndex=0,this.currentTimer=this.getCurrentTimerFromSequnece(),this.currentBlockRepetitionsLeft=this.totalSequence[this.currentBlockIndex].repetitions},getCurrentTimerFromSequnece:function(){return this.totalSequence[this.currentBlockIndex].timers[this.currentTimerIndex]},isLastTimerBlock:function(){return this.currentBlockIndex>=this.totalSequence.length-1},finishAndResetSequence:function(){this.audioEndWhistle.play(),Object(L["d"])(),this.setupTimer(),this.timerIsRunning=!1},updateTimer:function(t){this.timer=Object(L["b"])(t)},stringifyTimer:function(t){return Object(L["k"])(t)}}},P=N,j=(n("c4f1"),Object(m["a"])(P,r,i,!1,null,"67edeb80",null));j.options.__file="Run.vue";e["default"]=j.exports},b15d:function(t,e,n){"use strict";var r=n("05ed"),i=n.n(r);i.a},b29e:function(t,e,n){},b7bb:function(t,e,n){t.exports=n.p+"media/whistle3x.304b4261.mp3"},c1fb:function(t,e,n){"use strict";var r=n("b29e"),i=n.n(r);i.a},c4f1:function(t,e,n){"use strict";var r=n("0904"),i=n.n(r);i.a},cb3c:function(t,e,n){"use strict";var r=n("d847"),i=n.n(r);i.a},d847:function(t,e,n){},e829:function(t,e,n){n("2f37"),t.exports=n("584a").Date.now},f41d:function(t,e,n){"use strict";var r=n("2824"),i=n.n(r);i.a}}]);
//# sourceMappingURL=run.870b0314.js.map