(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["run"],{"0a0d":function(t,e,n){t.exports=n("e829")},"2f37":function(t,e,n){var i=n("63b6");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},4498:function(t,e,n){t.exports=n.p+"media/whistle.c279d845.wav"},6494:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",style:{backgroundColor:t.currentBlockColor}},[n("div",[t._v("SETS: "+t._s(t.sets)+"x")]),n("div",{staticClass:"container__timer"},[t._v(t._s(t.stringifyTimer(t.currentTimer)))]),n("div",[t._v(t._s(t.currentBlockRepetitionsLeft)+"x")]),n("AppBlockProgressBar",{attrs:{currentTimerIndex:t.currentTimerIndex+1,totalTimerCount:t.totalSequence[t.currentBlockIndex].timers.length}}),n("AppButtonReset",{directives:[{name:"show",rawName:"v-show",value:!t.timerIsRunning,expression:"!timerIsRunning"}],staticClass:"container__reset",on:{onClick:t.restartTimer}}),n("AppButtonPause",{directives:[{name:"show",rawName:"v-show",value:t.timerIsRunning,expression:"timerIsRunning"}],staticClass:"container__playPause",on:{onClick:t.stopLoop}}),n("AppButtonPlay",{directives:[{name:"show",rawName:"v-show",value:!t.timerIsRunning,expression:"!timerIsRunning"}],staticClass:"container__playPause",on:{onClick:t.runLoop}})],1)},r=[],s=n("0a0d"),o=n.n(s),u=(n("cadf"),n("551c"),n("097d"),n("5118")),c=n("2fa3"),a={name:"Run",data:function(){return{audioWhistle:new Audio(n("4498")),audioBeep:new Audio(n("9ae0")),totalSequence:null,currentBlockIndex:0,currentTimerIndex:0,currentBlockRepetitionsLeft:null,timerIsRunning:!1,currentTimer:null,totalTimeLeft:null,sets:null,timeout:null}},components:{AppTitlePage:function(){return n.e("chunk-78d68800").then(n.bind(null,"4242"))},AppBlockProgressBar:function(){return n.e("chunk-d875a750").then(n.bind(null,"aa4b"))},AppButtonPause:function(){return n.e("chunk-376a16bf").then(n.bind(null,"8b30"))},AppButtonPlay:function(){return n.e("chunk-78683fb3").then(n.bind(null,"969f"))},AppButtonReset:function(){return n.e("chunk-08764772").then(n.bind(null,"46b1"))}},computed:{totalTimerCount:function(){return this.$store.getters.totalTimerCount},currentBlockColor:function(){return Object(c["e"])(this.totalSequence[this.currentBlockIndex].colorIndex)}},created:function(){this.setupTimer()},mounted:function(){this.runLoop()},beforeDestroy:function(){this.stopLoop()},methods:{runLoop:function(){var t=this;this.timerIsRunning=!0;var e=1e3,n=o()()+e,i=function i(){var r=o()()-n;t.timerIsRunning&&(n+=e,t.timeout=Object(u["setTimeout"])(i,Math.max(0,e-r)),t.decrementTotalTime(),t.decrementCurrentTimer())};this.timeout=Object(u["setTimeout"])(i,e)},stopLoop:function(){Object(u["clearTimeout"])(this.timeout),this.timerIsRunning=!1},restartTimer:function(){this.setupTimer(),this.runLoop()},setupTimer:function(){this.currentBlockIndex=0,this.currentTimerIndex=0,this.totalTimeLeft=this.$store.getters.totalTime,this.totalSequence=this.$store.getters.timerBlocks,this.currentTimer=Object(c["b"])(this.totalSequence[this.currentBlockIndex].timers[this.currentTimerIndex]),this.currentBlockRepetitionsLeft=this.totalSequence[this.currentBlockIndex].repetitions,this.sets=this.$store.getters.sets},decrementTotalTime:function(){this.totalTimeLeft=Object(c["c"])(this.totalTimeLeft)},decrementCurrentTimer:function(){var t=Object(c["c"])(this.currentTimer);this.setCurrentTimer(t)},setCurrentTimer:function(t){Object(c["i"])(t)?(this.audioWhistle.play(),this.switchToNextTimer()):(0===t.m&&t.s<4&&this.audioBeep.play(),this.currentTimer=t)},switchToNextTimer:function(){this.currentTimerIndex++,this.currentTimer=this.getCurrentTimerFromSequnece(),void 0===this.currentTimer&&(this.areMoreRepetitionsLeft()?this.startNextCurrentBlockRepetition():this.isLastTimerBlock()?this.sets>1?this.startNextSet():this.finishSequence():this.moveToNextBlock())},startNextSet:function(){this.sets--,this.currentBlockIndex=0,this.currentTimerIndex=0,this.currentTimer=this.getCurrentTimerFromSequnece(),this.currentBlockRepetitionsLeft=this.totalSequence[this.currentBlockIndex].repetitions},areMoreRepetitionsLeft:function(){return this.currentBlockRepetitionsLeft>1},startNextCurrentBlockRepetition:function(){this.currentBlockRepetitionsLeft--,this.currentTimerIndex=0,this.currentTimer=this.getCurrentTimerFromSequnece()},moveToNextBlock:function(){this.currentBlockIndex++,this.currentTimerIndex=0,this.currentTimer=this.getCurrentTimerFromSequnece(),this.currentBlockRepetitionsLeft=this.totalSequence[this.currentBlockIndex].repetitions},getCurrentTimerFromSequnece:function(){return this.totalSequence[this.currentBlockIndex].timers[this.currentTimerIndex]},isLastTimerBlock:function(){return this.currentBlockIndex>=this.totalSequence.length-1},finishSequence:function(){this.totalTimeLeft={m:0,s:0},this.currentTimer={m:0,s:0},this.currentTimerIndex=0,this.currentBlockIndex=0,this.timerIsRunning=!1},updateTimer:function(t){this.timer=Object(c["b"])(t)},stringifyTimer:function(t){return Object(c["h"])(t)}}},l=a,h=(n("c3ed"),n("2877")),m=Object(h["a"])(l,i,r,!1,null,"41704704",null);m.options.__file="Run.vue";e["default"]=m.exports},"9ae0":function(t,e,n){t.exports=n.p+"media/beep.219f187e.wav"},c3ed:function(t,e,n){"use strict";var i=n("cf85"),r=n.n(i);r.a},cf85:function(t,e,n){},e829:function(t,e,n){n("2f37"),t.exports=n("584a").Date.now}}]);
//# sourceMappingURL=run.2e397060.js.map