var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function c(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}function o(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function m(){return f(" ")}function d(){return f("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t){t=""+t,e.data!==t&&(e.data=t)}function h(e,t,n){e.classList[n?"add":"remove"](t)}let g;function v(e){g=e}function y(e){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(e)}const b=[],S=Promise.resolve();let x=!1;const C=[],k=[],w=[];function N(e){k.push(e)}function _(){const e=new Set;do{for(;b.length;){const e=b.shift();v(e),E(e.$$)}for(;C.length;)C.shift()();for(;k.length;){const t=k.pop();e.has(t)||(t(),e.add(t))}}while(b.length);for(;w.length;)w.pop()();x=!1}function E(e){e.fragment&&(e.update(e.dirty),r(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(N))}let j;function O(){j={remaining:0,callbacks:[]}}function I(){j.remaining||r(j.callbacks)}function M(e){j.callbacks.push(e)}function D(e,t){M(()=>{!function(e,t){e.d(1),t.delete(e.key)}(e,t)}),e.o(1)}function R(e,t,n,r,c,i,s,o,u,a,l,f){let m=e.length,d=i.length,$=m;const p={};for(;$--;)p[e[$].key]=$;const h=[],g=new Map,v=new Map;for($=d;$--;){const e=f(c,i,$),o=n(e);let u=s.get(o);u?r&&u.p(t,e):(u=a(o,e)).c(),g.set(o,h[$]=u),o in p&&v.set(o,Math.abs($-p[o]))}const y=new Set,b=new Set;function S(e){e.i&&e.i(1),e.m(o,l),s.set(e.key,e),l=e.first,d--}for(;m&&d;){const t=h[d-1],n=e[m-1],r=t.key,c=n.key;t===n?(l=t.first,m--,d--):g.has(c)?!s.has(r)||y.has(r)?S(t):b.has(c)?m--:v.get(r)>v.get(c)?(b.add(r),S(t)):(y.add(c),m--):(u(n,s),m--)}for(;m--;){const t=e[m];g.has(t.key)||u(t,s)}for(;d;)S(h[d-1]);return h}function A(e,n,i){const{fragment:s,on_mount:o,on_destroy:u,after_render:a}=e.$$;s.m(n,i),N(()=>{const n=o.map(t).filter(c);u?u.push(...n):r(n),e.$$.on_mount=[]}),a.forEach(N)}function L(e,t){e.$$.dirty||(b.push(e),x||(x=!0,S.then(_)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function B(t,c,i,s,o,u){const a=g;v(t);const l=c.props||{},f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:null};let m=!1;var d;f.ctx=i?i(t,l,(e,n)=>{f.ctx&&o(f.ctx[e],f.ctx[e]=n)&&(f.bound[e]&&f.bound[e](n),m&&L(t,e))}):l,f.update(),m=!0,r(f.before_render),f.fragment=s(f.ctx),c.target&&(c.hydrate?f.fragment.l((d=c.target,Array.from(d.childNodes))):f.fragment.c(),c.intro&&t.$$.fragment.i&&t.$$.fragment.i(),A(t,c.target,c.anchor),_()),v(a)}class J{$destroy(){var t,n;n=!0,(t=this).$$&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const P=[{name:"EUR",isSelected:!1},{name:"GBP",isSelected:!0},{name:"USD",isSelected:!1},{name:"CZK",isSelected:!1}],T=(()=>{const{subscribe:t,update:n}=function(t,n=e){let r;const c=[];function s(e){if(i(t,e)){if(t=e,!r)return;c.forEach(e=>e[1]()),c.forEach(e=>e[0](t))}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,o=e){const u=[i,o];return c.push(u),1===c.length&&(r=n(s)||e),i(t),()=>{const e=c.indexOf(u);-1!==e&&c.splice(e,1),0===c.length&&r()}}}}([]);return{subscribe:t,loadCurrencies:async()=>{try{const e=await fetch("https://openexchangerates.org/api/currencies.json"),t=await e.json(),r=[];for(const e in t)r.push({name:e,isSelected:!1});n(()=>r)}catch(e){console.log("ERROR: STORE -> fetchCurrencies -> error",e),n(()=>P)}},toggleCurrencyStatus:e=>{n(t=>{const n=JSON.parse(JSON.stringify(t)),r=n.find(t=>t.name===e);return r?(r.isSelected=!r.isSelected,n):t})}}})();function U(t){var n,r,c,i,s,d,h=t.item.name;return{c(){n=l("div"),r=l("span"),c=f(h),i=m(),(s=l("button")).textContent="x",s.className="DisplayItem-button svelte-1vdk1p3",n.className="DisplayItem svelte-1vdk1p3",d=$(s,"click",t.onClick)},m(e,t){u(e,n,t),o(n,r),o(r,c),o(n,i),o(n,s)},p(e,t){e.item&&h!==(h=t.item.name)&&p(c,h)},i:e,o:e,d(e){e&&a(n),d()}}}function q(e,t,n){let{item:r}=t;return e.$set=(e=>{"item"in e&&n("item",r=e.item)}),{item:r,onClick:()=>T.toggleCurrencyStatus(r.name)}}class z extends J{constructor(e){super(),B(this,e,q,U,i,["item"])}}function F(e,t,n){const r=Object.create(e);return r.item=t[n],r}function G(e,t){var n,r,c=new z({props:{item:t.item}});return{key:e,first:null,c(){n=d(),c.$$.fragment.c(),this.first=n},m(e,t){u(e,n,t),A(c,e,t),r=!0},p(e,t){var n={};e.selectedCurrencies&&(n.item=t.item),c.$set(n)},i(e){r||(c.$$.fragment.i(e),r=!0)},o(e){c.$$.fragment.o(e),r=!1},d(e){e&&a(n),c.$destroy(e)}}}function K(e){var t,n,r,c=[],i=new Map,s=e.selectedCurrencies;const f=e=>e.item.name;for(var m=0;m<s.length;m+=1){let t=F(e,s,m),n=f(t);i.set(n,c[m]=G(n,t))}return{c(){for(t=l("div"),n=l("div"),m=0;m<c.length;m+=1)c[m].c();n.className="Display-container svelte-om8d57",t.className="Display svelte-om8d57"},m(e,i){for(u(e,t,i),o(t,n),m=0;m<c.length;m+=1)c[m].m(n,null);r=!0},p(e,t){const r=t.selectedCurrencies;O(),c=R(c,e,f,1,t,r,i,n,D,G,null,F),I()},i(e){if(!r){for(var t=0;t<s.length;t+=1)c[t].i();r=!0}},o(e){for(m=0;m<c.length;m+=1)c[m].o();r=!1},d(e){for(e&&a(t),m=0;m<c.length;m+=1)c[m].d()}}}function Z(e,t,n){let r,c;return s(e,T,e=>{n("$currenciesStore",r=e)}),e.$$.update=((e={$currenciesStore:1})=>{e.$currenciesStore&&n("selectedCurrencies",c=r.filter(e=>e.isSelected))}),{selectedCurrencies:c}}class H extends J{constructor(e){super(),B(this,e,Z,K,i,[])}}function Q(t){var n,r,c,i,s,d,g,v=t.item.name;return{c(){var e,o,u;n=l("div"),r=l("input"),i=m(),s=l("span"),d=f(v),r.className="CurrenciesItem-checkbox svelte-1j17xpp",e=r,o="type",null==(u="checkbox")?e.removeAttribute(o):e.setAttribute(o,u),r.checked=c=t.item.isSelected,s.className="CurrenciesItem-name svelte-1j17xpp",n.className="CurrenciesItem svelte-1j17xpp",h(n,"CurrenciesItem-isSelected",t.item.isSelected),g=$(n,"click",t.onClick)},m(e,t){u(e,n,t),o(n,r),o(n,i),o(n,s),o(s,d)},p(e,t){e.item&&c!==(c=t.item.isSelected)&&(r.checked=c),e.item&&v!==(v=t.item.name)&&p(d,v),e.item&&h(n,"CurrenciesItem-isSelected",t.item.isSelected)},i:e,o:e,d(e){e&&a(n),g()}}}function V(e,t,n){let{item:r}=t;return e.$set=(e=>{"item"in e&&n("item",r=e.item)}),{item:r,onClick:()=>T.toggleCurrencyStatus(r.name)}}class W extends J{constructor(e){super(),B(this,e,V,Q,i,["item"])}}function X(e,t,n){const r=Object.create(e);return r.item=t[n],r}function Y(t){var n;return{c(){(n=l("div")).className="Currencies-spinner svelte-906ay2"},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&a(n)}}}function ee(e){var t,n,r=[],c=new Map,i=e.$currenciesStore;const s=e=>e.item.name;for(var o=0;o<i.length;o+=1){let t=X(e,i,o),n=s(t);c.set(n,r[o]=te(n,t))}return{c(){for(t=l("div"),o=0;o<r.length;o+=1)r[o].c();t.className="Currencies-container svelte-906ay2"},m(e,c){for(u(e,t,c),o=0;o<r.length;o+=1)r[o].m(t,null);n=!0},p(e,n){const i=n.$currenciesStore;O(),r=R(r,e,s,1,n,i,c,t,D,te,null,X),I()},i(e){if(!n){for(var t=0;t<i.length;t+=1)r[t].i();n=!0}},o(e){for(o=0;o<r.length;o+=1)r[o].o();n=!1},d(e){for(e&&a(t),o=0;o<r.length;o+=1)r[o].d()}}}function te(e,t){var n,r,c=new W({props:{item:t.item}});return{key:e,first:null,c(){n=d(),c.$$.fragment.c(),this.first=n},m(e,t){u(e,n,t),A(c,e,t),r=!0},p(e,t){var n={};e.$currenciesStore&&(n.item=t.item),c.$set(n)},i(e){r||(c.$$.fragment.i(e),r=!0)},o(e){c.$$.fragment.o(e),r=!1},d(e){e&&a(n),c.$destroy(e)}}}function ne(e){var t,n,r,c,i=[ee,Y],s=[];function o(e){return e.$currenciesStore.length>0?0:1}return n=o(e),r=s[n]=i[n](e),{c(){t=l("div"),r.c(),t.className="Currencies svelte-906ay2"},m(e,r){u(e,t,r),s[n].m(t,null),c=!0},p(e,c){var u=n;(n=o(c))===u?s[n].p(e,c):(O(),M(()=>{s[u].d(1),s[u]=null}),r.o(1),I(),(r=s[n])||(r=s[n]=i[n](c)).c(),r.i(1),r.m(t,null))},i(e){c||(r&&r.i(),c=!0)},o(e){r&&r.o(),c=!1},d(e){e&&a(t),s[n].d()}}}function re(e,t,n){let r;return s(e,T,e=>{n("$currenciesStore",r=e)}),{$currenciesStore:r}}class ce extends J{constructor(e){super(),B(this,e,re,ne,i,[])}}function ie(t){var n,r,c,i=new H({}),s=new ce({});return{c(){n=l("div"),i.$$.fragment.c(),r=m(),s.$$.fragment.c(),n.id="app",n.className="svelte-1bxvu62"},m(e,t){u(e,n,t),A(i,n,null),o(n,r),A(s,n,null),c=!0},p:e,i(e){c||(i.$$.fragment.i(e),s.$$.fragment.i(e),c=!0)},o(e){i.$$.fragment.o(e),s.$$.fragment.o(e),c=!1},d(e){e&&a(n),i.$destroy(),s.$destroy()}}}function se(e){return y(()=>T.loadCurrencies()),{}}return new class extends J{constructor(e){super(),B(this,e,se,ie,i,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
